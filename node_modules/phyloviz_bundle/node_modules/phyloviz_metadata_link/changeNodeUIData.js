
function changeNodeUIData(linkInformation, callback){


	var objectOfType = linkInformation.data_link_info.objectOfType;
	var graphics = linkInformation.graphObject.graphics;
	var propertyIndexes = linkInformation.data_link_info.propertyIndexes;
	var arrayColors = linkInformation.data_link_info.arrayColors;
	var renderer = linkInformation.graphObject.renderer;

	var assignQuadrant = linkInformation.graphObject.assignQuadrant;
	var getDataPercentage = linkInformation.graphObject.getDataPercentage;


	for(i in objectOfType){
	    var dataToChange = [];
	    var indexes = [];
	    var nodeUI = graphics.getNodeUI(i);
	    
	    if(Object.keys(objectOfType[i]).length > 0){

		    nodeUI.rawData = objectOfType[i];

		    for (j in objectOfType[i]){
		      dataToChange.push(objectOfType[i][j]);
		      indexes.push(arrayColors[propertyIndexes[j]]);
		    }
		}

		noDataColor = 0xDEDEDE; //Color to use when there is no associated data to the nodes
	    if (dataToChange.length < 1) newValues = assignQuadrant(getDataPercentage([1]), [noDataColor]);
	    else newValues = assignQuadrant(getDataPercentage(dataToChange), indexes);
	    
	    dataToChange = newValues[0];
	    indexes = newValues[1];
	    
	    nodeUI.data = dataToChange;  //Apply data to the nodeUI
	    nodeUI.colorIndexes = indexes; //Apply data to the nodeUI
	    nodeUI.backupColor = indexes;

  	}

  	callback();

}

module.exports = changeNodeUIData;