!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define("d3-array",["exports"],r):r(n.d3_array={})}(this,function(n){"use strict";function r(n,r){return r>n?-1:n>r?1:n>=r?0:NaN}function t(n){return 1===n.length&&(n=e(n)),{left:function(r,t,e,u){for(arguments.length<3&&(e=0),arguments.length<4&&(u=r.length);u>e;){var o=e+u>>>1;n(r[o],t)<0?e=o+1:u=o}return e},right:function(r,t,e,u){for(arguments.length<3&&(e=0),arguments.length<4&&(u=r.length);u>e;){var o=e+u>>>1;n(r[o],t)>0?u=o:e=o+1}return e}}}function e(n){return function(t,e){return r(n(t),e)}}function u(n,r){return n>r?-1:r>n?1:r>=n?0:NaN}function o(n){return null===n?NaN:+n}function a(n,r){var t,e,u=n.length,a=0,f=0,i=-1,l=0;if(1===arguments.length)for(;++i<u;)isNaN(t=o(n[i]))||(e=t-a,a+=e/++l,f+=e*(t-a));else for(;++i<u;)isNaN(t=o(r(n[i],i,n)))||(e=t-a,a+=e/++l,f+=e*(t-a));return l>1?f/(l-1):void 0}function f(){var n=a.apply(this,arguments);return n?Math.sqrt(n):n}function i(n,r){var t,e,u,o=-1,a=n.length;if(1===arguments.length){for(;++o<a;)if(null!=(e=n[o])&&e>=e){t=u=e;break}for(;++o<a;)null!=(e=n[o])&&(t>e&&(t=e),e>u&&(u=e))}else{for(;++o<a;)if(null!=(e=r(n[o],o,n))&&e>=e){t=u=e;break}for(;++o<a;)null!=(e=r(n[o],o,n))&&(t>e&&(t=e),e>u&&(u=e))}return[t,u]}function l(n){return function(){return n}}function h(n){return n}function s(n,r,t){(u=arguments.length)<3&&(t=1,2>u&&(r=n,n=0));for(var e=-1,u=0|Math.max(0,Math.ceil((r-n)/t)),o=new Array(u);++e<u;)o[e]=n+e*t;return o}function g(n,r,t){var e=c(n,r,t);return s(Math.ceil(n/e)*e,Math.floor(r/e)*e+e/2,e)}function c(n,r,t){var e=Math.abs(r-n)/Math.max(0,t),u=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),o=e/u;return o>=C?u*=10:o>=E?u*=5:o>=G&&(u*=2),n>r?-u:u}function m(n){return Math.ceil(Math.log(n.length)/Math.LN2)+1}function v(n){return+n}function p(){function n(n){var u,o,a=n.length,f=new Array(a);for(u=0;a>u;++u)f[u]=+r(n[u],u,n);var i=t(f),l=+i[0],h=+i[1],s=e(f,l,h);Array.isArray(s)||(s=g(l,h,+s));var c=s.length;for(u=0;c>u;++u)s[u]=+s[u];for(;s[0]<=l;)s.shift(),--c;for(;s[c-1]>=h;)s.pop(),--c;var m,v=new Array(c+1);for(u=0;c>=u;++u)m=v[u]=[],m.x0=u>0?s[u-1]:l,m.x1=c>u?s[u]:h;for(u=0;a>u;++u)o=f[u],o>=l&&h>=o&&v[_(s,o,0,c)].push(n[u]);return v}var r=h,t=i,e=m;return n.value=function(t){return arguments.length?(r="function"==typeof t?t:l(+t),n):r},n.domain=function(r){return arguments.length?(t="function"==typeof r?r:l([+r[0],+r[1]]),n):t},n.thresholds=function(r){return arguments.length?(e="function"==typeof r?r:l(Array.isArray(r)?Array.prototype.map.call(r,v):+r),n):e},n}function d(n,r,t){if(arguments.length<3&&(t=o),e=n.length){if((r=+r)<=0||2>e)return+t(n[0],0,n);if(r>=1)return+t(n[e-1],e-1,n);var e,u=(e-1)*r,a=Math.floor(u),f=+t(n[a],a,n),i=+t(n[a+1],a+1,n);return f+(i-f)*(u-a)}}function y(n,t,e){return n.sort(r),Math.ceil((e-t)/(2*(d(n,.75)-d(n,.25))*Math.pow(n.length,-1/3)))}function M(n,r,t){return Math.ceil((t-r)/(3.5*f(n)*Math.pow(n.length,-1/3)))}function N(n,r){var t,e,u=-1,o=n.length;if(1===arguments.length){for(;++u<o;)if(null!=(e=n[u])&&e>=e){t=e;break}for(;++u<o;)null!=(e=n[u])&&e>t&&(t=e)}else{for(;++u<o;)if(null!=(e=r(n[u],u,n))&&e>=e){t=e;break}for(;++u<o;)null!=(e=r(n[u],u,n))&&e>t&&(t=e)}return t}function A(n,r){var t,e=0,u=n.length,a=-1,f=u;if(1===arguments.length)for(;++a<u;)isNaN(t=o(n[a]))?--f:e+=t;else for(;++a<u;)isNaN(t=o(r(n[a],a,n)))?--f:e+=t;return f?e/f:void 0}function b(n,t){var e,u=[],a=n.length,f=-1;if(1===arguments.length)for(;++f<a;)isNaN(e=o(n[f]))||u.push(e);else for(;++f<a;)isNaN(e=o(t(n[f],f,n)))||u.push(e);return d(u.sort(r),.5)}function w(n){for(var r,t,e,u=n.length,o=-1,a=0;++o<u;)a+=n[o].length;for(t=new Array(a);--u>=0;)for(e=n[u],r=e.length;--r>=0;)t[--a]=e[r];return t}function x(n,r){var t,e,u=-1,o=n.length;if(1===arguments.length){for(;++u<o;)if(null!=(e=n[u])&&e>=e){t=e;break}for(;++u<o;)null!=(e=n[u])&&t>e&&(t=e)}else{for(;++u<o;)if(null!=(e=r(n[u],u,n))&&e>=e){t=e;break}for(;++u<o;)null!=(e=r(n[u],u,n))&&t>e&&(t=e)}return t}function k(n){for(var r,t=0,e=n.length-1,u=n[0],o=new Array(0>e?0:e);e>t;)o[t]=[r=u,u=n[++t]];return o}function q(n,r){for(var t=r.length,e=new Array(t);t--;)e[t]=n[r[t]];return e}function L(n,t){if(e=n.length){var e,u,o=0,a=0,f=n[a];for(t||(t=r);++o<e;)(t(u=n[o],f)<0||0!==t(f,f))&&(f=u,a=o);return 0===t(f,f)?a:void 0}}function S(n,r,t){(o=arguments.length)<3&&(t=n.length,2>o&&(r=0));for(var e,u,o=t-r;o;)u=Math.random()*o--|0,e=n[o+r],n[o+r]=n[u+r],n[u+r]=e;return n}function j(n,r){var t,e=0,u=n.length,o=-1;if(1===arguments.length)for(;++o<u;)(t=+n[o])&&(e+=t);else for(;++o<u;)(t=+r(n[o],o,n))&&(e+=t);return e}function z(n){if(!(u=n.length))return[];for(var r=-1,t=x(n,D),e=new Array(t);++r<t;)for(var u,o=-1,a=e[r]=new Array(u);++o<u;)a[o]=n[o][r];return e}function D(n){return n.length}function F(){return z(arguments)}var R=t(r),_=R.right,B=R.left,C=Math.sqrt(50),E=Math.sqrt(10),G=Math.sqrt(2),H="0.7.0";n.version=H,n.bisect=_,n.bisectRight=_,n.bisectLeft=B,n.ascending=r,n.bisector=t,n.descending=u,n.deviation=f,n.extent=i,n.histogram=p,n.thresholdFreedmanDiaconis=y,n.thresholdScott=M,n.thresholdSturges=m,n.max=N,n.mean=A,n.median=b,n.merge=w,n.min=x,n.pairs=k,n.permute=q,n.quantile=d,n.range=s,n.scan=L,n.shuffle=S,n.sum=j,n.ticks=g,n.tickStep=c,n.transpose=z,n.variance=a,n.zip=F});