!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("d3-color")):"function"==typeof define&&define.amd?define("d3-interpolate",["exports","d3-color"],t):t(n.d3_interpolate={},n.d3_color)}(this,function(n,t){"use strict";function r(n,r){n=t.rgb(n),r=t.rgb(r);var e=n.r,u=n.g,i=n.b,a=r.r-e,o=r.g-u,l=r.b-i;return function(t){return n.r=e+a*t,n.g=u+o*t,n.b=i+l*t,n+""}}function e(n,t){var r,e=[],u=[],i=n?n.length:0,a=t?t.length:0,o=Math.min(i,a);for(r=0;o>r;++r)e.push(s(n[r],t[r]));for(;i>r;++r)u[r]=n[r];for(;a>r;++r)u[r]=t[r];return function(n){for(r=0;o>r;++r)u[r]=e[r](n);return u}}function u(n,t){return n=+n,t-=n,function(r){return n+t*r}}function i(n,t){var r,e={},u={};(null===n||"object"!=typeof n)&&(n={}),(null===t||"object"!=typeof t)&&(t={});for(r in n)r in t?e[r]=s(n[r],t[r]):u[r]=n[r];for(r in t)r in n||(u[r]=t[r]);return function(n){for(r in e)u[r]=e[r](n);return u}}function a(n){return function(){return n}}function o(n){return function(t){return n(t)+""}}function l(n,t){var r,e,i,l=X.lastIndex=_.lastIndex=0,s=-1,c=[],h=[];for(n+="",t+="";(r=X.exec(n))&&(e=_.exec(t));)(i=e.index)>l&&(i=t.slice(l,i),c[s]?c[s]+=i:c[++s]=i),(r=r[0])===(e=e[0])?c[s]?c[s]+=e:c[++s]=e:(c[++s]=null,h.push({i:s,x:u(r,e)})),l=_.lastIndex;return l<t.length&&(i=t.slice(l),c[s]?c[s]+=i:c[++s]=i),c.length<2?h[0]?o(h[0].x):a(t):(t=h.length,function(n){for(var r,e=0;t>e;++e)c[(r=h[e]).i]=r.x(n);return c.join("")})}function s(n,t){for(var r,e=B.length;--e>=0&&!(r=B[e](n,t)););return r}function c(n,t){return n=+n,t-=n,function(r){return Math.round(n+t*r)}}function h(n){T||(T=document.createElementNS("http://www.w3.org/2000/svg","g")),n&&(T.setAttribute("transform",n),t=T.transform.baseVal.consolidate());var t,r=t?t.matrix:P,e=[r.a,r.b],u=[r.c,r.d],i=p(e),a=f(e,u),o=p(N(u,e,-a))||0;e[0]*u[1]<u[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,a*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-u[0],u[1]))*O,this.translate=[r.e,r.f],this.scale=[i,o],this.skew=o?Math.atan2(a,o)*O:0}function f(n,t){return n[0]*t[0]+n[1]*t[1]}function p(n){var t=Math.sqrt(f(n,n));return t&&(n[0]/=t,n[1]/=t),t}function N(n,t,r){return n[0]+=r*t[0],n[1]+=r*t[1],n}function g(n){return n.length?n.pop()+",":""}function x(n,t,r,e){if(n[0]!==t[0]||n[1]!==t[1]){var i=r.push("translate(",null,",",null,")");e.push({i:i-4,x:u(n[0],t[0])},{i:i-2,x:u(n[1],t[1])})}else(t[0]||t[1])&&r.push("translate("+t+")")}function d(n,t,r,e){n!==t?(n-t>180?t+=360:t-n>180&&(n+=360),e.push({i:r.push(g(r)+"rotate(",null,")")-2,x:u(n,t)})):t&&r.push(g(r)+"rotate("+t+")")}function b(n,t,r,e){n!==t?e.push({i:r.push(g(r)+"skewX(",null,")")-2,x:u(n,t)}):t&&r.push(g(r)+"skewX("+t+")")}function v(n,t,r,e){if(n[0]!==t[0]||n[1]!==t[1]){var i=r.push(g(r)+"scale(",null,",",null,")");e.push({i:i-4,x:u(n[0],t[0])},{i:i-2,x:u(n[1],t[1])})}else(1!==t[0]||1!==t[1])&&r.push(g(r)+"scale("+t+")")}function M(n,t){var r=[],e=[];return n=new h(n),t=new h(t),x(n.translate,t.translate,r,e),d(n.rotate,t.rotate,r,e),b(n.skew,t.skew,r,e),v(n.scale,t.scale,r,e),n=t=null,function(n){for(var t,u=-1,i=e.length;++u<i;)r[(t=e[u]).i]=t.x(n);return r.join("")}}function m(n){return((n=Math.exp(n))+1/n)/2}function w(n){return((n=Math.exp(n))-1/n)/2}function y(n){return((n=Math.exp(2*n))-1)/(n+1)}function j(n,t){var r,e,u=n[0],i=n[1],a=n[2],o=t[0],l=t[1],s=t[2],c=o-u,h=l-i,f=c*c+h*h;if(z>f)e=Math.log(s/a)/Q,r=function(n){return[u+n*c,i+n*h,a*Math.exp(Q*n*e)]};else{var p=Math.sqrt(f),N=(s*s-a*a+Z*f)/(2*a*V*p),g=(s*s-a*a-Z*f)/(2*s*V*p),x=Math.log(Math.sqrt(N*N+1)-N),d=Math.log(Math.sqrt(g*g+1)-g);e=(d-x)/Q,r=function(n){var t=n*e,r=m(x),o=a/(V*p)*(r*y(Q*t+x)-w(x));return[u+o*c,i+o*h,a*r/m(Q*t+x)]}}return r.duration=1e3*e,r}function k(n,t){var r=n-t;return r>180||-180>r?r-360*Math.round(r/360):r}function q(n,r){n=t.hsl(n),r=t.hsl(r);var e=isNaN(n.h)?r.h:n.h,u=isNaN(n.s)?r.s:n.s,i=n.l,a=isNaN(r.h)?0:k(r.h,e),o=isNaN(r.s)?0:r.s-u,l=r.l-i;return function(t){return n.h=e+a*t,n.s=u+o*t,n.l=i+l*t,n+""}}function A(n,r){n=t.hsl(n),r=t.hsl(r);var e=isNaN(n.h)?r.h:n.h,u=isNaN(n.s)?r.s:n.s,i=n.l,a=isNaN(r.h)?0:r.h-e,o=isNaN(r.s)?0:r.s-u,l=r.l-i;return function(t){return n.h=e+a*t,n.s=u+o*t,n.l=i+l*t,n+""}}function H(n,r){n=t.lab(n),r=t.lab(r);var e=n.l,u=n.a,i=n.b,a=r.l-e,o=r.a-u,l=r.b-i;return function(t){return n.l=e+a*t,n.a=u+o*t,n.b=i+l*t,n+""}}function I(n,r){n=t.hcl(n),r=t.hcl(r);var e=isNaN(n.h)?r.h:n.h,u=isNaN(n.c)?r.c:n.c,i=n.l,a=isNaN(r.h)?0:k(r.h,e),o=isNaN(r.c)?0:r.c-u,l=r.l-i;return function(t){return n.h=e+a*t,n.c=u+o*t,n.l=i+l*t,n+""}}function L(n,r){n=t.hcl(n),r=t.hcl(r);var e=isNaN(n.h)?r.h:n.h,u=isNaN(n.c)?r.c:n.c,i=n.l,a=isNaN(r.h)?0:r.h-e,o=isNaN(r.c)?0:r.c-u,l=r.l-i;return function(t){return n.h=e+a*t,n.c=u+o*t,n.l=i+l*t,n+""}}function R(n,r,e){arguments.length<3&&(e=1),n=t.cubehelix(n),r=t.cubehelix(r);var u=isNaN(n.h)?r.h:n.h,i=isNaN(n.s)?r.s:n.s,a=n.l,o=isNaN(r.h)?0:k(r.h,u),l=isNaN(r.s)?0:r.s-i,s=r.l-a;return function(t){return n.h=u+o*t,n.s=i+l*t,n.l=a+s*Math.pow(t,e),n+""}}function E(n,r,e){arguments.length<3&&(e=1),n=t.cubehelix(n),r=t.cubehelix(r);var u=isNaN(n.h)?r.h:n.h,i=isNaN(n.s)?r.s:n.s,a=n.l,o=isNaN(r.h)?0:r.h-u,l=isNaN(r.s)?0:r.s-i,s=r.l-a;return function(t){return n.h=u+o*t,n.s=i+l*t,n.l=a+s*Math.pow(t,e),n+""}}function S(n,t){return t=D.call(t),t[0]=null,t.unshift(null),function(r,e){return t[0]=r,t[1]=e,n.apply(null,t)}}function C(n){return 1===arguments.length?n:S(n,arguments)}var T,X=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_=new RegExp(X.source,"g"),B=[function(n,a){var o,s=typeof a;return("string"===s?(o=t.color(a))?(a=o,r):l:a instanceof t.color?r:Array.isArray(a)?e:"object"===s&&isNaN(a)?i:u)(n,a)}],O=180/Math.PI,P={a:1,b:0,c:0,d:1,e:0,f:0},Q=Math.SQRT2,V=2,Z=4,z=1e-12,D=Array.prototype.slice,F="0.4.0";n.version=F,n.interpolate=s,n.interpolators=B,n.interpolateArray=e,n.interpolateNumber=u,n.interpolateObject=i,n.interpolateRound=c,n.interpolateString=l,n.interpolateTransform=M,n.interpolateZoom=j,n.interpolateRgb=r,n.interpolateHsl=q,n.interpolateHslLong=A,n.interpolateLab=H,n.interpolateHcl=I,n.interpolateHclLong=L,n.interpolateCubehelix=R,n.interpolateCubehelixLong=E,n.interpolateBind=C});